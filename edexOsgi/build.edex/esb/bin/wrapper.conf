#********************************************************************
##
# This software was developed and / or modified by Raytheon Company,
# pursuant to Contract DG133W-05-CQ-1067 with the US Government.
# 
# U.S. EXPORT CONTROLLED TECHNICAL DATA
# This software product contains export-restricted data whose
# export/transfer/disclosure is restricted by U.S. law. Dissemination
# to non-U.S. persons whether in the United States or abroad requires
# an export license or other authorization.
# 
# Contractor Name:        Raytheon Company
# Contractor Address:     6825 Pine Street, Suite 340
#                         Mail Stop B8
#                         Omaha, NE 68106
#                         402.291.0100
# 
# See the AWIPS II Master Rights File ("Master Rights File.pdf") for
# further licensing information.
##
# Wrapper Properties
#********************************************************************

#include.required wrapper.conf

#wrapper.debug=TRUE
set.default.EDEX_HOME=../..
wrapper.working.dir=..

# Java Application
wrapper.java.command=java

# necessary for etc/init.d/edex_camel
wrapper.pidfile=./%EDEX_RUN_MODE%.pid

# Java Main class.  This class must implement the WrapperListener interface
#  or guarantee that the WrapperManager class is initialized.  Helper
#  classes are provided to do this for you.  See the Integration section
#  of the documentation for details.
wrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleApp

# Java Classpath (include wrapper.jar)  Add class path elements as
#  needed starting from 1
wrapper.java.classpath.1=%EDEX_HOME%/bin/wrapper.jar
wrapper.java.classpath.2=%EDEX_HOME%/lib/plugins/com.raytheon.uf.edex.esb.camel.launcher.jar
wrapper.java.classpath.3=%EDEX_HOME%/conf/
wrapper.java.classpath.4=%EDEX_HOME%/conf/cache/
wrapper.java.classpath.5=%EDEX_HOME%/conf/spring/

# set the umask for file/directory creation by the Java process
wrapper.java.umask=0002

# Java Library Path
wrapper.java.library.path.2=%LD_LIBRARY_PATH%
wrapper.java.library.path.3=%EDEX_HOME%/lib/native/linux32/

# Java Additional Parameters
# note that n is the parameter number starting from 1.
wrapper.java.additional.1=-Dedex.run.mode=%EDEX_RUN_MODE%
wrapper.java.additional.2=-Dedex.home=%EDEX_HOME%

# sets the Maximum Permanent Generation memory size
wrapper.java.additional.3=-XX:MaxPermSize=%MAX_PERM_SIZE%

# sets the JS dev mode flag into the System properties
wrapper.java.additional.4=-Dedex.dev.mode=%DEV_MODE%

# turn on JMX access to basic JVM instrumentation
wrapper.java.additional.5=-Dcom.sun.management.jmxremote

# Enforces GMT to be used as the timezone
wrapper.java.additional.6=-Duser.timezone=GMT

wrapper.java.additional.7=-XX:+UseConcMarkSweepGC

wrapper.java.additional.8=-XX:+CMSIncrementalMode

wrapper.java.additional.9=-Djava.net.preferIPv4Stack=true
wrapper.java.additional.10=-Ddb.addr=%DB_ADDR%
wrapper.java.additional.11=-Ddb.port=%DB_PORT%
wrapper.java.additional.12=-Dbroker.addr=%BROKER_ADDR%

wrapper.java.additional.13=-Ddc.db.name=%DC_DB_NAME%
wrapper.java.additional.14=-Dfxa.db.name=%FXA_DB_NAME%
wrapper.java.additional.15=-Dhm.db.name=%HM_DB_NAME%
wrapper.java.additional.16=-Dih.db.name=%IH_DB_NAME%
wrapper.java.additional.17=-Daw.site.identifier=%AW_SITE_IDENTIFIER%
wrapper.java.additional.18=-Ddata.archive.root=%DATA_ARCHIVE_ROOT%

wrapper.java.additional.19=-Djms.pool.min=%JMS_POOL_MIN%
wrapper.java.additional.20=-Djms.pool.max=%JMS_POOL_MAX%
wrapper.java.additional.21=-Ddb.metadata.pool.min=%METADATA_POOL_MIN%
wrapper.java.additional.22=-Ddb.metadata.pool.max=%METADATA_POOL_MAX%

wrapper.java.additional.23=-Dcom.sun.management.jmxremote.port=%EDEX_JMX_PORT% 
wrapper.java.additional.24=-Dcom.sun.management.jmxremote.authenticate=false 
wrapper.java.additional.25=-Dcom.sun.management.jmxremote.ssl=false

wrapper.java.additional.26=-DByteArrayOutputStreamPool.maxPoolSize=%SERIALIZE_POOL_MAX_SIZE%
wrapper.java.additional.27=-DByteArrayOutputStreamPool.initStreamSize=%SERIALIZE_STREAM_INIT_SIZE_MB%
wrapper.java.additional.28=-DByteArrayOutputStreamPool.maxStreamSize=%SERIALIZE_STREAM_MAX_SIZE_MB%

wrapper.java.additional.29=-Dpypies.server=%PYPIES_SERVER%
wrapper.java.additional.30=-Dpypies.maxConnections=%PYPIES_MAX_CONN%

wrapper.java.additional.31=%DEBUG_PARAM_1%
wrapper.java.additional.32=%DEBUG_PARAM_2%
wrapper.java.additional.33=%DEBUG_PARAM_3%
wrapper.java.additional.34=%DEBUG_PARAM_4%
wrapper.java.additional.35=%PROFILER_PARAM_1%

wrapper.java.additional.36=-Dlog4j.configuration=%LOG4J_CONF%

# moved these from environment.xml to setup.env
wrapper.java.additional.37=-Dhttp.server=%HTTP_SERVER%
wrapper.java.additional.38=-Djms.server=%JMS_SERVER%

wrapper.java.additional.39=-DHighMem=%HIGH_MEM_FLAG%
wrapper.java.additional.40=-Dmanagement.port=%MGMT_PORT%

wrapper.java.additional.41=-Dqpid.dest_syntax=BURL
wrapper.java.additional.42=-Dweb.port=8080
wrapper.java.additional.43=-Dconfidential.port=8443
wrapper.java.additional.44=-Dhttp.port=%HTTP_PORT%
wrapper.java.additional.45=-Dedex.arch=%EDEX_ARCH%

# Initial Java Heap Size (in MB)
wrapper.java.initmemory=%INIT_MEM%

# Maximum Java Heap Size (in MB)
wrapper.java.maxmemory=%MAX_MEM%

# Application parameters.  Add parameters as needed starting from 1
wrapper.app.parameter.1=com.raytheon.uf.edex.esb.Main
wrapper.app.parameter.2=start

wrapper.ping.timeout=0

#********************************************************************
# Wrapper Logging Properties
#********************************************************************
# Format of output for the console.  (See docs for formats)
wrapper.console.format=M

# Log Level for console output.  (See docs for log levels)
wrapper.console.loglevel=%CONSOLE_LOGLEVEL%

# Log file to use for wrapper output logging.
wrapper.logfile=%EDEX_HOME%/logs/edex-%EDEX_RUN_MODE%-YYYYMMDD.log

# Format of output for the log file.  (See docs for formats)
wrapper.logfile.format=M

# Log Level for log file output.  (See docs for log levels)
wrapper.logfile.loglevel=INFO

# Set the log rollover mode for the log.
#   DATE - creates a new file each day - file name must include YYYYMMDD.
#   SIZE - uses log size for log roll-over.
wrapper.logfile.rollmode=DATE

# Maximum size that the log file will be allowed to grow to before
#  the log is rolled. Size is specified in bytes.  The default value
#  of 0, disables log rolling.  May abbreviate with the 'k' (kb) or
#  'm' (mb) suffix.  For example: 10m = 10 megabytes.
# Note: ignored for wrapper.logfile.rollmode=DATE
wrapper.logfile.maxsize=1000m

# Maximum number of rolled log files which will be allowed before old
#  files are deleted.  The default value of 0 implies no limit.
wrapper.logfile.maxfiles=30

# Log Level for sys/event log output.  (See docs for log levels)
wrapper.syslog.loglevel=NONE


#********************************************************************
# Wrapper Windows Properties
#********************************************************************
# Title to use when running as a console
wrapper.console.title=EDEX %EDEX_RUN_MODE%

#********************************************************************
# Wrapper Windows NT/2000/XP Service Properties
#********************************************************************
# WARNING - Do not modify any of these properties when an application
#  using this configuration file has been installed as a service.
#  Please uninstall the service before modifying this section.  The
#  service can then be reinstalled.

# Name of the service
wrapper.ntservice.name=EDEX

# Display name of the service
wrapper.ntservice.displayname=EDEX

# Description of the service
wrapper.ntservice.description=EDEX ESB

# Service dependencies.  Add dependencies as needed starting from 1
wrapper.ntservice.dependency.1=

# Mode in which the service is installed.  AUTO_START or DEMAND_START
wrapper.ntservice.starttype=AUTO_START

# Allow the service to interact with the desktop.
wrapper.ntservice.interactive=false
