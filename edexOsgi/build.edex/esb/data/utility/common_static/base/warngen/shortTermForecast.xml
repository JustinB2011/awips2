<!-- Short Term Forecast configuration -->
<!-- Customized by Phil Kurimski WFO DTX 19 August 2011 with OB11.8 changes -->
<!-- Changed Co coding to Zones - Mike Dangelo 09-23-2011 at Alaska TIM -->
<!-- Edited by Mike Dangelo 02-27-2012 
               Qinglu Lin   04-04-2012 DR 14691. Added <feAreaField> tag.
               Evan Bookbinder 09-12-2012 DR15179 Added areaSource object to allow for
                                           county-based headlines in zone based products. 
                                           Added settings for locations shapefile              
                                           Added new areaSource object
               Evan Bookbinder 5-5-2013 fixed <type> variable under areaSource objects                                           
-->
<warngenConfig>

 <!-- Config distance/speed units -->
 <unitDistance>mi</unitDistance>
 <unitSpeed>mph</unitSpeed>

 <!-- Maps to load on template selection. Refer to 'Maps' menu in CAVE. 
 	The various menu items are also the different maps
 	that can be loaded with each template. -->
 <maps>
  <map>Forecast Zones</map>
  <map>County Names</map>
  <map>County Warning Areas</map>
 </maps>

 <!-- Followups: VTEC actions of allowable followups when this template is selected -->
 <followups>
 </followups>
 
 <!-- Phensigs: The list of phenomena and significance combinations that this template applies to -->
 <phensigs>
 </phensigs>
 
  <!-- Enables/disables user from selecting the Restart button the GUI -->
 <enableRestart>true</enableRestart>
 
  <!-- Enable/disables the system to lock text based on various patterns -->
 <autoLockText>true</autoLockText>

 <!-- Included watches: If a tornado watch or severe thunderstorm watch is to be 
 	included with the warning product include torWatches and/or svrWatches, 
 	respectively. Please refer to 'includedWatchAreaBuffer' in <areaConfig/>. -->
 <includedWatches>
  <includedWatch>torWatches</includedWatch>
  <includedWatch>svrWatches</includedWatch>
 </includedWatches>
 
 <!-- durations: the list of possible durations of the warning -->
 <defaultDuration>60</defaultDuration>
 <durations>
  <duration>15</duration>
  <duration>30</duration>
  <duration>45</duration>
  <duration>60</duration>
  <duration>75</duration>
  <duration>90</duration>
  <duration>120</duration>
  <duration>180</duration> 
  <duration>240</duration>
  <duration>300</duration>   
 </durations>
 
<bulletActionGroups>
<bulletActionGroup action="NEW">
 <bullets>
  <!-- <bullet bulletText="***** CLICK 'CREATE TEXT' BELOW AFTER SELECTING AREA *****" bulletType="title"/> -->
  <bullet bulletText="  *****BASIS SECTION*****...(Choose 1) " bulletType="title"/>
  <bullet bulletName="doppler" bulletText="Doppler radar indicated" bulletGroup="basis" bulletDefault="true"/>
  <bullet bulletName="trainedSpotters" bulletText="Trained spotters reported" bulletGroup="basis"/>
  <bullet bulletName="lawEnforcement" bulletText="Law Enforcement reported" bulletGroup="basis"/>
  <bullet bulletName="public" bulletText="Public reported" bulletGroup="basis"/>
  <bullet bulletName="satellite" bulletText="Satellite imagery indicated" bulletGroup="basis"/>
  <bullet bulletText="" bulletType="title"/>
  <bullet bulletText="  ****EVENT TYPE SECTION****...(Choose 1) " bulletType="title"/>
  <bullet bulletName="thunderstorm" bulletText="Thunderstorms" bulletGroup="event" bulletDefault="true"/>
  <bullet bulletName="rainShower" bulletText="Rain Showers" bulletGroup="event"/>
  <bullet bulletName="snowShower" bulletText="Snow Showers" bulletGroup="event"/>
  <bullet bulletName="leadingRain" bulletText="Leading edge of Rain" bulletGroup="event"/>
  <bullet bulletName="leadingSnow" bulletText="Leading edge of Snow" bulletGroup="event"/>
  <bullet bulletName="backedgeRain" bulletText="Back edge of Rain" bulletGroup="event"/>
  <bullet bulletName="backedgeSnow" bulletText="Back edge of Snow" bulletGroup="event"/>
  <bullet bulletName="snowSquall" bulletText="Snow Squall" bulletGroup="event"/>
  <bullet bulletName="showerThunderstorm" bulletText="Showers and Thunderstorms" bulletGroup="event"/>
  <bullet bulletName="gFront" bulletText="Gust Front" bulletGroup="event"/>
  <bullet bulletName="cFront" bulletText="Cold Front" bulletGroup="event"/>
  <bullet bulletText="" bulletType="title"/>
  <bullet bulletText="*********** Pathcast Section **********" bulletType="title"/>
  <bullet bulletName="pathcast" bulletText="Select for pathcast" bulletGroup="cast"/>
  <bullet bulletName="listofcities" bulletText="Select for a list of cities" bulleDefault="true" bulletGroup="cast"/>
  <bullet bulletText="" bulletType="title"/>
  <bullet bulletText="*********** Supplemental Statements **********" bulletType="title"/>
  <bullet bulletName="gustFrontWinds" bulletText="gusty winds"/>
  <bullet bulletName="frontalPassage" bulletText="frontal passage"/>
  <bullet bulletName="heavySnow" bulletText="low visibility in heavy snow"/>
  <bullet bulletName="snowAmt" bulletText="snowfall amounts"/>
 </bullets>
</bulletActionGroup>
<bulletActionGroup action="COR">
 <bullets>
  <!-- <bullet bulletText="***** CLICK 'CREATE TEXT' BELOW AFTER SELECTING AREA *****" bulletType="title"/> -->
  <bullet bulletText="  *****BASIS SECTION*****...(Choose 1) " bulletType="title"/>
  <bullet bulletName="doppler" bulletText="Doppler radar indicated" bulletGroup="basis" bulletDefault="true"/>
  <bullet bulletName="trainedSpotters" bulletText="Trained spotters reported" bulletGroup="basis"/>
  <bullet bulletName="lawEnforcement" bulletText="Law Enforcement reported" bulletGroup="basis"/>
  <bullet bulletName="public" bulletText="Public reported" bulletGroup="basis"/>
  <bullet bulletName="satellite" bulletText="Satellite imagery indicated" bulletGroup="basis"/>
  <bullet bulletText="" bulletType="title"/>
  <bullet bulletText="  ****EVENT TYPE SECTION****...(Choose 1) " bulletType="title"/>
  <bullet bulletName="thunderstorm" bulletText="Thunderstorms" bulletGroup="event" bulletDefault="true"/>
  <bullet bulletName="rainShower" bulletText="Rain Showers" bulletGroup="event"/>
  <bullet bulletName="snowShower" bulletText="Snow Showers" bulletGroup="event"/>
  <bullet bulletName="leadingRain" bulletText="Leading edge of Rain" bulletGroup="event"/>
  <bullet bulletName="leadingSnow" bulletText="Leading edge of Snow" bulletGroup="event"/>
  <bullet bulletName="backedgeRain" bulletText="Back edge of Rain" bulletGroup="event"/>
  <bullet bulletName="backedgeSnow" bulletText="Back edge of Snow" bulletGroup="event"/>
  <bullet bulletName="snowSquall" bulletText="Snow Squall" bulletGroup="event"/>
  <bullet bulletName="showerThunderstorm" bulletText="Showers and Thunderstorms" bulletGroup="event"/>
  <bullet bulletName="gFront" bulletText="Gust Front" bulletGroup="event"/>
  <bullet bulletName="cFront" bulletText="Cold Front" bulletGroup="event"/>
  <bullet bulletText="" bulletType="title"/>
  <bullet bulletText="*********** Pathcast Section **********" bulletType="title"/>
  <bullet bulletName="pathcast" bulletText="Select for pathcast" bulletGroup="pcast"/>
  <bullet bulletName="listofcities" bulletText="Select for a list of cities" bulletGroup="pcast" parseString="LOCATIONS IMPACTED INCLUDE" showString="LOCATIONS IMPACTED INCLUDE"/>
  <bullet bulletName="listofcities" bulletText="Select for a list of cities" bulletGroup="pcast" parseString="LOCATIONS IN THE WARNING INCLUDE" showString="LOCATIONS IN THE WARNING INCLUDE"/>
  <bullet bulletName="listofcities" bulletText="Select for a list of cities" bulletGroup="pcast" parseString="WILL REMAIN OVER" showString="WILL REMAIN OVER"/>
  <bullet bulletText="" bulletType="title"/>
  <bullet bulletText="*********** Supplemental Statements **********" bulletType="title"/>
  <bullet bulletName="gustFrontPassage" bulletText="gust front passage"/>
  <bullet bulletName="frontalPassage" bulletText="cold frontal passage"/>
  <bullet bulletName="heavySnow" bulletText="heavy snow/low visibility"/>
  <bullet bulletName="snowAmt" bulletText="snowfall amounts"/>
</bullets>
</bulletActionGroup>
</bulletActionGroups>

<!--  Four variables below have been changed from the County-coded products -->
<!--  areaSource.areaField -->
<!--  areaSource.fipsField -->
<!--  pathcastConfig.areaField and -->
<!--  geospatialConfig.areaSource -->
 
 <!-- Default areaSource object to generate zone based information -->
 <areaSource variable="areas">
<!--    <areaSource>County</areaSource> -->
   <areaSource>Zone</areaSource>
   <type>HATCHING</type>
   <inclusionPercent>0</inclusionPercent>
   <inclusionAndOr>AND</inclusionAndOr>
   <inclusionArea>0</inclusionArea>
   <areaField>NAME</areaField>
   <parentAreaField>NAME</parentAreaField>
   <areaNotationField>STATE</areaNotationField>
   <feAreaField>FE_AREA</feAreaField>
   <timeZoneField>TIME_ZONE</timeZoneField>
   <areaNotationTranslationFile>countyTypes.txt</areaNotationTranslationFile>
<!--    <fipsField>STATE_ZONE</fipsField>  -->
   <fipsField>STATE_ZONE</fipsField>
   <pointField>NAME</pointField>
   <sortBy>
  	<sort>parent</sort>
   </sortBy>
   <pointFilter>
 		<mapping key="WARNGENLEV">
 			<constraint constraintValue="1" constraintType="EQUALS" />
 		</mapping>
  </pointFilter>
  <includedWatchAreaBuffer>25</includedWatchAreaBuffer>
</areaSource>
 
  <!-- Add in areaSource object to generate county-based headline if desired -->
 <areaSource variable="affectedCounties">
   <areaSource>County</areaSource>
   <type>INTERSECT</type>
   <inclusionPercent>0</inclusionPercent>
   <inclusionAndOr>AND</inclusionAndOr>
   <inclusionArea>0</inclusionArea>
   <areaField>COUNTYNAME</areaField>
   <parentAreaField>NAME</parentAreaField>
   <areaNotationField>STATE</areaNotationField>
   <feAreaField>FE_AREA</feAreaField>
   <timeZoneField>TIME_ZONE</timeZoneField>
   <areaNotationTranslationFile>countyTypes.txt</areaNotationTranslationFile>
   <fipsField>FIPS</fipsField>
   <pointField>NAME</pointField>
   <sortBy>
  	<sort>parent</sort>
   </sortBy>
   <pointFilter>
 		<mapping key="WARNGENLEV">
 			<constraint constraintValue="1" constraintType="EQUALS" />
 		</mapping>
  </pointFilter>
  <includedWatchAreaBuffer>25</includedWatchAreaBuffer>
</areaSource>
 
 <pointSource variable="closestPoints">
 	<pointField>NAME</pointField>
 	<type>AREA</type>
 	<searchMethod>POINTS</searchMethod>
 	<filter>
 		<mapping key="WARNGENLEV">
 			<constraint constraintValue="1,2" constraintType="IN" />
 		</mapping>
  	  <mapping key="LANDWATER">
 		<constraint constraintValue="L,LW,LC" constraintType="IN" />
 	  </mapping> 		
 	</filter>
 	<maxResults>1</maxResults>
 	<distanceThreshold>100</distanceThreshold>
 	<sortBy>
 		<sort>distance</sort>
  		<sort>warngenlev</sort>
  	</sortBy>
 </pointSource>
 
 <pointSource variable="otherClosestPoints">
 	<pointField>NAME</pointField>
 	<type>AREA</type>
 	<searchMethod>POINTS</searchMethod>
 	<filter>
 		<mapping key="WARNGENLEV">
 			<constraint constraintValue="1,2" constraintType="IN" />
 		</mapping>
  	  <mapping key="LANDWATER">
 		<constraint constraintValue="L,LW,LC" constraintType="IN" />
 	  </mapping> 			
 	</filter>
 	<maxResults>5</maxResults>
 	<distanceThreshold>100</distanceThreshold>
 	<sortBy>
 		<sort>distance</sort>
  		<sort>warngenlev</sort>
  	</sortBy>
 </pointSource>
 
<pathcastConfig>
  <inclusionPercent>1</inclusionPercent>
  <withinPolygon>true</withinPolygon>
  <distanceThreshold>8.0</distanceThreshold>
  <interval>5</interval>
  <delta>5</delta>
  <maxResults>10</maxResults>
  <maxGroup>8</maxGroup>
  <pointField>Name</pointField>
  <type>AREA</type>
<!--  <areaField>COUNTYNAME</areaField> --> 
 <areaField>NAME</areaField> -->
  <parentAreaField>STATE</parentAreaField>
  <areaNotationField>STATE</areaNotationField>
  <areaNotationTranslationFile>countyTypes.txt</areaNotationTranslationFile>
  <sortBy>
  		<sort>warngenlev</sort>
  		<sort>population</sort>
  		<sort>distance</sort>
  </sortBy>
  <filter>
 		<mapping key="WARNGENLEV">
 			<constraint constraintValue="1,2" constraintType="IN" />
 		</mapping>
  	  <mapping key="LANDWATER">
 		<constraint constraintValue="L,LW,LC" constraintType="IN" />
 	  </mapping> 		
  </filter>
 </pathcastConfig>
 
 <pointSource variable="cityList">
 	<pointField>NAME</pointField>
 	<inclusionPercent>1</inclusionPercent>
 	<type>AREA</type>
 	<searchMethod>TRACK</searchMethod>
 	<withinPolygon>true</withinPolygon>
 	<maxResults>20</maxResults>
 	<distanceThreshold>10</distanceThreshold>
	<filter> 	
  	  <mapping key="WARNGENLEV">
 		<constraint constraintValue="1,2,3,4" constraintType="IN" />
 	  </mapping>
  	  <mapping key="LANDWATER">
 		<constraint constraintValue="L,LW,LC" constraintType="IN" />
 	  </mapping> 		  
 	</filter>   	
 	<sortBy>
  		<sort>warngenlev</sort>
  		<sort>population</sort>
  		<sort>distance</sort>
  	</sortBy>
 </pointSource>
 
   <pointSource variable="otherPoints">
 	<pointField>NAME</pointField>
 	<inclusionPercent>1</inclusionPercent>
 	<type>AREA</type>
 	<searchMethod>TRACK</searchMethod>
 	<withinPolygon>true</withinPolygon>
 	<maxResults>10</maxResults>
 	<distanceThreshold>10</distanceThreshold>
 	<sortBy>
  		<sort>distance</sort>
  	</sortBy>
	<filter>
 		<mapping key="WARNGENLEV">
 			<constraint constraintValue="3,4" constraintType="IN" />
 		</mapping>
  	  <mapping key="LANDWATER">
 		<constraint constraintValue="L,LW,LC" constraintType="IN" />
 	  </mapping> 			
  	</filter>
 </pointSource>

<!-- this "include file" tag will grab the Mile Marker XML pointSource tags, 
and place into this template
-->  
<include file="mileMarkers.xml"/>

 <geospatialConfig>
  <pointSource>WarnGenLoc</pointSource>
<!-- <areaSource>County</areaSource> -->
  <areaSource>Zone</areaSource>
  <parentAreaSource>States</parentAreaSource>
  <timezoneSource>TIMEZONES</timezoneSource>
  <timezoneField>TIME_ZONE</timezoneField>
 </geospatialConfig>
 
 
</warngenConfig>
