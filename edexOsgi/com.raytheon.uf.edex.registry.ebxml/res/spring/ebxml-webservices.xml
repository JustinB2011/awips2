<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:amq="http://activemq.apache.org/schema/core" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
  http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd   
  http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd">

  <!-- QUERY -->
	<!-- Define concrete implementation of the service -->
	<bean id="queryServiceImpl"
		class="com.raytheon.uf.edex.registry.ebxml.services.query.QueryManagerImpl">
		<property name="queryTypeMgr" ref="queryTypeManager" />
	</bean>

	<!-- NOTIFICATION LISTENER -->
	<!-- Define concrete implementation of the service -->
	<bean id="notificationServiceImpl"
		class="com.raytheon.uf.edex.registry.ebxml.services.notification.NotificationListenerImpl">
		<property name="lcm" ref="lcmServiceImpl" />
		<property name="registryObjectDao" ref="registryObjectDao" />
		<property name="classificationNodeDao" ref="classificationNodeDao" />
	</bean>


	<!-- LIFE CYCLE MANAGER -->
	<!-- Define concrete implementation of the service -->
	<bean id="lcmServiceImpl"
		class="com.raytheon.uf.edex.registry.ebxml.services.lifecycle.LifecycleManagerImpl">
		<property name="queryManager" ref="queryServiceImpl" />
		<property name="validator" ref="validatorServiceImpl" />
		<property name="registryObjectDao" ref="registryObjectDao" />
		<property name="auditableEventDao" ref="AuditableEventTypeDao" />
		<property name="cataloger" ref="catalogerServiceImpl" />
	</bean>

    <!-- VALIDATOR -->
    <!-- Define concrete implementation of the service -->
    <bean id="validatorServiceImpl"
        class="com.raytheon.uf.edex.registry.ebxml.services.validator.ValidatorImpl">
        <property name="queryManager" ref="queryServiceImpl" />
        <property name="registryObjectDao" ref="registryObjectDao" />
        <property name="registryObjectTypeValidator" ref="registryObjectTypeValidator" />
    </bean>


	<!-- CATALOGER -->
	<!-- Define concrete implementation of the service -->
	<bean id="catalogerServiceImpl"
		class="com.raytheon.uf.edex.registry.ebxml.services.cataloger.CatalogerImpl">
		<property name="registryObjectDao" ref="registryObjectDao" />
	</bean>
	
	<!-- REST Service Beans -->
	<bean name="AddRegistryParty"
		class="com.raytheon.uf.edex.registry.ebxml.web.AddRegistryParty">
		<property name="partyDao" ref="partyDao" />
		<property name="lcm" ref="lcmServiceImpl" />
		<property name="webUtil" ref="RegistryWebUtil" />
	</bean>

	<bean name="ModifyRegistryParty"
		class="com.raytheon.uf.edex.registry.ebxml.web.ModifyRegistryParty">
		<property name="partyDao" ref="partyDao" />
		<property name="lcm" ref="lcmServiceImpl" />
		<property name="webUtil" ref="RegistryWebUtil" />
	</bean>

	<bean name="DeleteRegistryParty"
		class="com.raytheon.uf.edex.registry.ebxml.web.DeleteRegistryParty">
		<property name="partyDao" ref="partyDao" />
		<property name="webUtil" ref="RegistryWebUtil" />
	</bean>

	<bean id="registryObjectsRestService"
		class="com.raytheon.uf.edex.registry.ebxml.services.rest.RegistryObjectsRestService">
		<property name="registryObjectDao" ref="registryObjectDao" />
	</bean>

	<bean id="repositoryObjectsRestService"
		class="com.raytheon.uf.edex.registry.ebxml.services.rest.RepositoryItemsRestService">
		<property name="extrinsicObjectDao" ref="extrinsicObjectDao" />
	</bean>

	<bean id="queryProtocolRestService"
		class="com.raytheon.uf.edex.registry.ebxml.services.rest.QueryProtocolRestService" >
		<property name="queryManager" ref="queryServiceImpl"/>
		</bean>

	<bean id="RegistryWebUtil" class="com.raytheon.uf.edex.registry.ebxml.web.RegistryWebUtil">
		<property name="lcm" ref="lcmServiceImpl" />
		<property name="personDao" ref="personDao" />
		<property name="classificationNodeDao" ref="classificationNodeDao" />
	</bean>

	<bean id="RegistryWebAdmin"
		class="com.raytheon.uf.edex.registry.ebxml.web.RegistryWebAdmin">
		<property name="partyDao" ref="partyDao" />
		<property name="classificationNodeDao" ref="classificationNodeDao" />
		<property name="organizationDao" ref="organizationDao" />
		<property name="personDao" ref="personDao" />
		<property name="roleDao" ref="roleDao" />
	</bean>
    
    <!-- Validator Plugins -->
    <bean id="validatorPluginRegistry" factory-bean="validatorServiceImpl"
        factory-method="getPluginValidatorRegistry" />

    <bean id="registryObjectTypeValidator"
        class="com.raytheon.uf.edex.registry.ebxml.services.validator.plugins.RegistryObjectTypeValidator">
        <constructor-arg ref="registryObjectReferenceValidator" />
    </bean>
        
    <bean id="organizationTypeValidatorPlugin"
        class="com.raytheon.uf.edex.registry.ebxml.services.validator.plugins.OrganizationTypeValidator">
        <constructor-arg ref="registryObjectReferenceValidator" />
    </bean>

    <bean factory-bean="validatorPluginRegistry" factory-method="register">
        <constructor-arg
            value="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Organization" />
        <constructor-arg ref="organizationTypeValidatorPlugin" />
    </bean>
    <!-- End Validator Plugins -->
	
  </beans>