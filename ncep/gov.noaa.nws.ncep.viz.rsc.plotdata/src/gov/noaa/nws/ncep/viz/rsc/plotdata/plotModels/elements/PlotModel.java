//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, vJAXB 2.1.3 in JDK 1.6 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2009.12.08 at 10:45:26 AM EST 
//


package gov.noaa.nws.ncep.viz.rsc.plotdata.plotModels.elements;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlAttribute;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlType;


@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "", propOrder = {
    "plotModelElement"
})
@XmlRootElement(name = "PlotModel")
public class PlotModel {

    @XmlElement(name = "PlotModelElement", required = true)
    protected List<PlotModelElement> plotModelElement;

    @XmlAttribute
    protected String name;
    
    @XmlAttribute
    protected String plugin;  // the plugin or db table name
    
    @XmlAttribute
    protected String svgTemplate;

    /**
     * Gets the value of the plotModelElement property.
     * 
     * <p>
     * This accessor method returns a reference to the live list,
     * not a snapshot. Therefore any modification you make to the
     * returned list will be present inside the JAXB object.
     * This is why there is not a <CODE>set</CODE> method for the plotModelElement property.
     * 
     * <p>
     * For example, to add a new item, do as follows:
     * <pre>
     *    getPlotModelElement().add(newItem);
     * </pre>
     * 
     * 
     * <p>
     * Objects of the following type(s) are allowed in the list
     * {@link PlotModelElement }
     * 
     * 
     */
    public List<PlotModelElement> getAllPlotModelElements() {// boolean includeSkycAndWindBarbs ) {
        if (plotModelElement == null) {
            plotModelElement = new ArrayList<PlotModelElement>();
        }
        return this.plotModelElement;
    }

    public ArrayList<String> getPlotParamNames( boolean includeWindParam ) {
    	ArrayList<String> retList = new ArrayList<String>();
    	for( PlotModelElement pme : getAllPlotModelElements() ) {
    		if( pme.paramName != null && !pme.paramName.isEmpty() ) {
    			if( includeWindParam || !pme.getPosition().equals("WD" ) ) {
        			retList.add( pme.paramName );    				
    			}
    		}
    	}
    	return retList;
    }
    
    public String getName() {
        return name;
    }

    public void setName(String value) {
        this.name = value;
    }

    public String getPlugin() {
        return plugin;
    }

    public void setPlugin(String value) {
        this.plugin = value;
    }

    public String getSvgTemplate() {
        return svgTemplate;
    }

    public void setSvgTemplate(String value) {
        this.svgTemplate = value;
    }
    
    //
    public PlotModelElement getPlotModelElement( String position ) {
    	for( PlotModelElement e : plotModelElement ) {
    		if( e.getPosition().equalsIgnoreCase( position ) ){
    			return e;
    		}
    	}
    	return null;
    }
    
    public PlotModelElement getSkyCoverageElement() {
    	for( PlotModelElement e : plotModelElement ) {
    		if( e.getPosition().equalsIgnoreCase( "SC" ) ) {
    			return e;
    		}
    	}
    	return null;
    }
    
    public PlotModelElement getWindBarbElement() {
    	for( PlotModelElement e : plotModelElement ) {
    		if( e.getPosition().equalsIgnoreCase( "WD" ) ) {
    			return e;
    		}
    	}
    	return null;
    }

    public boolean removePlotModelElement( PlotModelElement pme ) {
    	for( PlotModelElement e : plotModelElement ) {
    		if( e.getPosition().equalsIgnoreCase( pme.getPosition() ) ){
    			plotModelElement.remove( e );
    			return true;
    		}
    	}
    	return false;
    }
    
    // find this position and either replace, add, or update the element
    //
//    public void updatePlotModelElement( PlotModelElement pme ) {
//    	if( pme == null || pme.getPosition() == null ) {
//    		return;
//    	}
//    	
//    	if( pme.getParamName() == null || pme.getParamName().isEmpty() ) {
//    		removePlotModelElement( pme.getPosition() );
//    	}
//    	else if( getPlotModelElement( pme.getPosition() ) == null ) {
//    		putPlotModelElement( pme );
//    	}
//    }
    
    public void putPlotModelElement( PlotModelElement pme ) {
    	int i=0;
    	for( PlotModelElement e : plotModelElement ) {
    		if( e.getPosition().equalsIgnoreCase( pme.getPosition() ) ){
    			plotModelElement.set( i, pme );
    			return;
    		}
    		i++;
    	}
    	plotModelElement.add( pme );
    }
    
    public PlotModel( ) {
    }

    public PlotModel( PlotModel pm ) {
        plotModelElement = new ArrayList<PlotModelElement>();
    	name = new String( pm.name );
    	plugin = new String( pm.plugin );
    	svgTemplate = new String( pm.svgTemplate );
    	
        for( PlotModelElement pme : pm.getAllPlotModelElements() ) {
        	PlotModelElement newPlotModelElement = new PlotModelElement( );
        	newPlotModelElement.setParamName( pme.getParamName() );
        	newPlotModelElement.setPosition( pme.getPosition() );
//        	newPlotModelElement.setEnable( pme.getEnable() );
        	if( pme.getSymbolSize() != null ) {
        		newPlotModelElement.setSymbolSize( new Integer( pme.getSymbolSize() ));
        	}
        	if( pme.getTextFont() != null ) {
        		newPlotModelElement.setTextFont( pme.getTextFont() );
        	}
        	if( pme.getTextSize() != null ) {
        		newPlotModelElement.setTextSize( pme.getTextSize() );
        	}
        	if( pme.getTextStyle() != null ) {
        		newPlotModelElement.setTextStyle( pme.getTextStyle() );
        	}
        	if( pme.getColor() != null ) {
        		Color newColor = new Color();
        		newColor.setRed(pme.getColor().getRed());
        		newColor.setGreen(pme.getColor().getGreen());
        		newColor.setBlue(pme.getColor().getBlue());
        		newPlotModelElement.setColor( newColor );
        	}
        	
        	plotModelElement.add( newPlotModelElement );
    	}    	
    }    
}
