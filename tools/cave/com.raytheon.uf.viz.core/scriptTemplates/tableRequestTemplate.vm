
#if($mode == "select")
import TableRequest
dataRequest = TableRequest.TableRequest('${scriptMetadata.get("databasename").constraintValue}', 
   '${scriptMetadata.get("classname").constraintValue}')
dataRequest.setCount(${maxRecords})
#foreach (${key} in ${scriptMetadata.keySet()})  
#if(${key})
#if(${key} != "pluginName" && ${key} != "databasename" && ${key} != "classname")
#set($constraint = $scriptMetadata.get($key))
#if(${constraint.constraintType} == "IN")
dataRequest.addList("${key}", "${constraint.constraintValue}")
#elseif(${constraint.constraintType} == "LIKE")
dataRequest.addParameter("${key}", "${constraint.constraintValue}", "like")
#elseif ($constraint.constraintType == "ISNULL")
dataRequest.addParameter("${key}", "${constraint.constraintValue}", "isnull")
#else
dataRequest.addParameter("${key}", "${constraint.constraintValue}")
#end
#end
#end
#end
return dataRequest.execute()
#elseif($mode == "update")
import TableResponse
product = '''$scriptMetadata.get("rowname").constraintValue'''
#set($classname = $scriptMetadata.get("classname").constraintValue)
#set($databasename = $scriptMetadata.get("databasename").constraintValue)
dataResponse = TableResponse.TableResponse('${databasename}', '${classname}', product)
return dataResponse.execute()
#end
